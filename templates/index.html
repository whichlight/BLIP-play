<!DOCTYPE html>
<html>
  <head>
    <title>Image Ask AI</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="{{ url_for('static', filename='style.css') }}"
    />
  </head>
  <body>
    <h1>Upload your image and ask a question about it</h1>
    <p>
      This uses
      <a
        href="https://blog.salesforceairesearch.com/blip-bootstrapping-language-image-pretraining/"
        target="_blank"
        >BLIP</a
      >
      to reason about an image
    </p>

    <form
      id="upload-form"
      action="/upload"
      method="post"
      enctype="multipart/form-data"
    >
      <input
        type="file"
        name="file"
        id="file"
        class="inputfile"
        accept="image/*"
      />
      <input type="submit" class="button" value="Upload" />
    </form>

    {% if filename %}
    <div class="img-box">
      <img src="{{ url_for('static', filename='images/'+filename) }}" />
    </div>

    <form action="/submit" method="post">
      <input type="text" name="question" placeholder="Enter question" />
      <input type="submit" class="button" value="Submit" />
    </form>

    {% if chat %}
    <div class="chat-log">
      {% for entry in chat %}
      <p>Question: {{ entry.question }}</p>
      <p>{{ entry.answer }}</p>
      {% endfor %}
    </div>
    {% endif %} {% endif %}
  </body>
</html>
