<!DOCTYPE html>
<html>
  <head>
    <title>File Upload</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="{{ url_for('static', filename='style.css') }}"
    />
  </head>
  <body>
    <h1>Upload your image and ask a question about it</h1>

    <form
      id="upload-form"
      action="/upload"
      method="post"
      enctype="multipart/form-data"
    >
      <input
        type="file"
        name="file"
        id="file"
        class="inputfile"
        accept="image/*"
      />
      <label for="file" class="button label-file">Choose file</label>
      <input type="submit" class="button" value="Upload" />
    </form>

    {% if filename %}
    <div class="img-box">
      <img src="{{ url_for('static', filename='images/'+filename) }}" />
    </div>
    {% endif %}

    <form action="/submit" method="post">
      <input type="text" name="question" placeholder="Enter question" />
      <input type="submit" class="button" value="Submit" />
    </form>

    {% if chat %}
    <div class="chat-log">
      {% for entry in chat %}
      <p>You: {{ entry.question }}</p>
      <p>{{ entry.answer }}</p>
      {% endfor %}
    </div>
    {% endif %}
  </body>
</html>
